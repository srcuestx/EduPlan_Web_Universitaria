<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDUPLAN - Plataforma Universitaria Integral</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Toastr CSS para notificaciones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <!-- Estilos personalizados -->
    <style>
        :root {
            --primary-color: #0d6efd;
            --secondary-color: #6c757d;
            --background-color: #ffffff;
            --text-color: #020202;
            --card-bg: #ffffff;
            --footer-bg: #0d6efd;
        }

        .dark-mode {
            --primary-color: #0d6efd;
            --secondary-color: #6c757d;
            --background-color: #121212;
            --text-color: #f8f9fa;
            --card-bg: #1e1e1e;
            --footer-bg: #000000;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            transition: all 0.3s ease;
        }

        .navbar,
        .hero-section,
        footer {
            background-color: var(--primary-color) !important;
        }

        .card {
            background-color: var(--card-bg);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.125);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        footer {
            background-color: var(--footer-bg) !important;
        }

        .feature-icon {
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .login-modal .modal-content {
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .settings-modal .modal-content {
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .progress-bar {
            transition: width 1s ease-in-out;
        }

        /* Animaciones */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        /* Estilo para el switcher de modo oscuro */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked+.slider {
            background-color: #2196F3;
        }

        input:checked+.slider:before {
            transform: translateX(26px);
        }
    </style>
</head>

<body>
    <!-- Barra de navegación -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">EDUPLAN</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a class="nav-link" href="agenda.html"><i class="fas fa-calendar-alt"></i>
                            Agenda</a></li>
                    <li class="nav-item"><a class="nav-link" href="finanzas.html"><i class="fas fa-wallet"></i>
                            Finanzas</a></li>
                    <li class="nav-item"><a class="nav-link" href="academico.html"><i class="fas fa-book"></i>
                            Académico</a></li>
                    <li class="nav-item"><a class="nav-link" href="herramientas.html"><i class="fas fa-tools"></i>
                            Herramientas</a></li>
                </ul>
                <div class="d-flex">
                    <button class="btn btn-light me-2" id="notificationBtn">
                        <i class="fas fa-bell"></i>
                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                            id="notificationBadge">
                            0
                        </span>
                    </button>
                    <div class="dropdown">
                        <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-bs-toggle="dropdown">
                            <i class="fas fa-user"></i> <span id="usernameDisplay">Perfil</span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="#" data-bs-toggle="modal"
                                    data-bs-target="#settingsModal"><i class="fas fa-cog"></i> Configuración</a></li>
                            <li><a class="dropdown-item" href="#" id="darkModeToggle"><i class="fas fa-moon"></i> <span
                                        id="darkModeText">Modo Oscuro</span></a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i>
                                    Cerrar Sesión</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Modal de Notificaciones -->
    <div class="modal fade" id="notificationsModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Notificaciones</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="list-group" id="notificationList">
                        <div class="list-group-item">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">Bienvenido a EDUPLAN</h6>
                                <small>Ahora</small>
                            </div>
                            <p class="mb-1">Comienza a organizar tu vida universitaria con nuestras herramientas.</p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-primary" id="markAllAsRead">Marcar todas como leídas</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Configuración -->
    <div class="modal fade settings-modal" id="settingsModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Configuración</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="settingsForm">
                        <div class="mb-3">
                            <label for="nombreUsuario" class="form-label">Nombre de Usuario</label>
                            <input type="text" class="form-control" id="nombreUsuario" value="Estudiante">
                        </div>
                        <div class="mb-3">
                            <label for="emailUsuario" class="form-label">Correo Electrónico</label>
                            <input type="email" class="form-control" id="emailUsuario" value="usuario@ejemplo.com">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Tema</label>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="darkModeSwitch">
                                <label class="form-check-label" for="darkModeSwitch">Modo Oscuro</label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Notificaciones</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="notificacionesEmail" checked>
                                <label class="form-check-label" for="notificacionesEmail">Recibir notificaciones por
                                    email</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="notificacionesApp" checked>
                                <label class="form-check-label" for="notificacionesApp">Recibir notificaciones en la
                                    app</label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="universidad" class="form-label">Universidad</label>
                            <select class="form-select" id="universidad">
                                <option selected>Selecciona tu universidad</option>
                                <option>Universidad Nacional</option>
                                <option>Universidad de Buenos Aires</option>
                                <option>Universidad de Chile</option>
                                <option>Universidad de México</option>
                                <option>Otra</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="saveSettings">Guardar Cambios</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Inicio de Sesión -->
    <div class="modal fade login-modal" id="loginModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Iniciar Sesión</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                        <div class="mb-3">
                            <label for="loginEmail" class="form-label">Correo Electrónico</label>
                            <input type="email" class="form-control" id="loginEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">Contraseña</label>
                            <input type="password" class="form-control" id="loginPassword" required>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="rememberMe">
                            <label class="form-check-label" for="rememberMe">Recordarme</label>
                        </div>
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
                        </div>
                    </form>
                    <div class="text-center mt-3">
                        <p>¿No tienes una cuenta? <a href="#" id="showRegister">Regístrate</a></p>
                        <a href="#" id="forgotPassword">¿Olvidaste tu contraseña?</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Registro -->
    <div class="modal fade login-modal" id="registerModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Crear Cuenta</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="registerForm">
                        <div class="mb-3">
                            <label for="registerName" class="form-label">Nombre Completo</label>
                            <input type="text" class="form-control" id="registerName" required>
                        </div>
                        <div class="mb-3">
                            <label for="registerEmail" class="form-label">Correo Electrónico</label>
                            <input type="email" class="form-control" id="registerEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="registerPassword" class="form-label">Contraseña</label>
                            <input type="password" class="form-control" id="registerPassword" required>
                            <div class="form-text">La contraseña debe tener al menos 8 caracteres.</div>
                        </div>
                        <div class="mb-3">
                            <label for="registerConfirmPassword" class="form-label">Confirmar Contraseña</label>
                            <input type="password" class="form-control" id="registerConfirmPassword" required>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="acceptTerms" required>
                            <label class="form-check-label" for="acceptTerms">Acepto los términos y condiciones</label>
                        </div>
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary">Registrarse</button>
                        </div>
                    </form>
                    <div class="text-center mt-3">
                        <p>¿Ya tienes una cuenta? <a href="#" id="showLogin">Iniciar Sesión</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <header class="hero-section text-white py-5">
        <div class="container text-center">
            <h1 class="display-4 fw-bold">EDUPLAN</h1>
            <p class="lead">La plataforma integral para organizar tu vida universitaria</p>
            <div class="mt-4">
                <a href="agenda.html" class="btn btn-light btn-lg mx-2">Comenzar</a>
                <a href="#features" class="btn btn-outline-light btn-lg mx-2">Saber más</a>
            </div>
        </div>
    </header>

    <!-- Features Section -->
    <section id="features" class="py-5">
        <div class="container">
            <h2 class="text-center mb-5">¿Qué ofrece EDUPLAN?</h2>
            <div class="row g-4">
                <div class="col-md-6 col-lg-3">
                    <div class="card h-100">
                        <div class="card-body text-center">
                            <div
                                class="feature-icon bg-primary bg-opacity-10 text-primary rounded-circle p-3 mb-3 mx-auto">
                                <i class="fas fa-calendar-alt fa-2x"></i>
                            </div>
                            <h5 class="card-title">Gestión del Tiempo</h5>
                            <p class="card-text">Agenda, calendario, Pomodoro timer y lista de tareas para organizar tu
                                tiempo eficientemente.</p>
                            <a href="agenda.html" class="btn btn-outline-primary">Explorar</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card h-100">
                        <div class="card-body text-center">
                            <div
                                class="feature-icon bg-success bg-opacity-10 text-success rounded-circle p-3 mb-3 mx-auto">
                                <i class="fas fa-wallet fa-2x"></i>
                            </div>
                            <h5 class="card-title">Gestión Financiera</h5>
                            <p class="card-text">Registro de gastos, presupuestos, análisis financiero y alertas para
                                controlar tus finanzas.</p>
                            <a href="finanzas.html" class="btn btn-outline-success">Explorar</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card h-100">
                        <div class="card-body text-center">
                            <div class="feature-icon bg-info bg-opacity-10 text-info rounded-circle p-3 mb-3 mx-auto">
                                <i class="fas fa-book fa-2x"></i>
                            </div>
                            <h5 class="card-title">Gestión Académica</h5>
                            <p class="card-text">Materias, horarios, calculadora de notas, apuntes y seguimiento de tu
                                progreso académico.</p>
                            <a href="academico.html" class="btn btn-outline-info">Explorar</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card h-100">
                        <div class="card-body text-center">
                            <div
                                class="feature-icon bg-warning bg-opacity-10 text-warning rounded-circle p-3 mb-3 mx-auto">
                                <i class="fas fa-tools fa-2x"></i>
                            </div>
                            <h5 class="card-title">Herramientas Extra</h5>
                            <p class="card-text">Organizador de proyectos, repositorio de documentos, comunidad y
                                consejos de bienestar.</p>
                            <a href="herramientas.html" class="btn btn-outline-warning">Explorar</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <h2 class="mb-4">Organiza tu vida universitaria</h2>
                    <p class="lead">Eduplan es una plataforma diseñada específicamente para estudiantes universitarios
                        que necesitan manejar múltiples aspectos de su vida académica y personal en un solo lugar.</p>
                    <p>Desde el control de tus horarios y tareas hasta la gestión de tus finanzas y el seguimiento de tu
                        progreso académico, Eduplan te ofrece todas las herramientas que necesitas para tener éxito en
                        tu vida universitaria.</p>
                    <a href="agenda.html" class="btn btn-primary mt-3">Empieza ahora</a>
                </div>
                <div class="col-lg-6">
                    <img src="https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80"
                        alt="Estudiante universitario" class="img-fluid rounded shadow">
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="py-5">
        <div class="container">
            <div class="row text-center">
                <div class="col-md-3 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h2 class="display-4" id="studentsCount">0</h2>
                            <p class="text-muted">Estudiantes</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h2 class="display-4" id="tasksCount">0</h2>
                            <p class="text-muted">Tareas gestionadas</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h2 class="display-4" id="hoursSaved">0</h2>
                            <p class="text-muted">Horas ahorradas</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h2 class="display-4" id="universitiesCount">0</h2>
                            <p class="text-muted">Universidades</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-5">Lo que dicen nuestros usuarios</h2>
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="mb-3 text-warning">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <p class="card-text">"Eduplan ha transformado completamente cómo organizo mi tiempo en la
                                universidad. ¡Ya no se me pasan las fechas de entrega!"</p>
                            <div class="d-flex align-items-center mt-3">
                                <img src="https://randomuser.me/api/portraits/women/32.jpg" alt="Usuario"
                                    class="rounded-circle me-3" width="50">
                                <div>
                                    <h6 class="mb-0">María González</h6>
                                    <small class="text-muted">Estudiante de Derecho</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="mb-3 text-warning">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <p class="card-text">"La calculadora de notas me salvó en el semestre pasado. Sabía
                                exactamente qué necesitaba en cada examen para pasar mis materias."</p>
                            <div class="d-flex align-items-center mt-3">
                                <img src="https://randomuser.me/api/portraits/men/45.jpg" alt="Usuario"
                                    class="rounded-circle me-3" width="50">
                                <div>
                                    <h6 class="mb-0">Carlos Martínez</h6>
                                    <small class="text-muted">Estudiante de Ingeniería</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="mb-3 text-warning">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                            <p class="card-text">"Por fin puedo controlar mis gastos mensuales. Las alertas me ayudan a
                                no exceder mi presupuesto en comida y transporte."</p>
                            <div class="d-flex align-items-center mt-3">
                                <img src="https://randomuser.me/api/portraits/women/68.jpg" alt="Usuario"
                                    class="rounded-circle me-3" width="50">
                                <div>
                                    <h6 class="mb-0">Ana Rodríguez</h6>
                                    <small class="text-muted">Estudiante de Medicina</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-5 text-center">
        <div class="container">
            <h2 class="mb-4">¿Listo para mejorar tu experiencia universitaria?</h2>
            <p class="lead mb-4">Regístrate ahora y comienza a organizar tu vida académica de manera más eficiente.</p>
            <button class="btn btn-primary btn-lg" id="registerNowBtn">Regístrate Gratis</button>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <h5>EDUPLAN</h5>
                    <p>La plataforma integral para la vida universitaria.</p>
                    <div class="social-icons">
                        <a href="#" class="text-white me-2"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-white me-2"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-white me-2"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-white me-2"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
                <div class="col-md-2 mb-3">
                    <h5>Enlaces</h5>
                    <ul class="list-unstyled">
                        <li><a href="index.html" class="text-white">Inicio</a></li>
                        <li><a href="agenda.html" class="text-white">Agenda</a></li>
                        <li><a href="finanzas.html" class="text-white">Finanzas</a></li>
                        <li><a href="academico.html" class="text-white">Académico</a></li>
                    </ul>
                </div>
                <div class="col-md-2 mb-3">
                    <h5>Recursos</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white">Blog</a></li>
                        <li><a href="#" class="text-white">Guías</a></li>
                        <li><a href="#" class="text-white">FAQ</a></li>
                        <li><a href="#" class="text-white">Soporte</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-3">
                    <h5>Contacto</h5>
                    <p><i class="fas fa-envelope me-2"></i> soporte@eduplan.com</p>
                    <p><i class="fas fa-phone me-2"></i> +1 (123) 456-7890</p>
                    <div class="mt-3">
                        <button class="btn btn-outline-light" id="contactBtn">Contáctanos</button>
                    </div>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p class="mb-0">&copy; 2025 Eduplan. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS y dependencias -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Toastr JS para notificaciones -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

    <!-- Scripts personalizados -->
    <script>
        // Verificar si hay una sesión activa al cargar la página
        $(document).ready(function () {
            // Verificar modo oscuro en localStorage
            if (localStorage.getItem('darkMode') === 'enabled') {
                enableDarkMode();
            }

            // Verificar si el usuario está logueado
            checkLoginStatus();

            // Animación de contadores
            animateCounters();

            // Configurar event listeners
            setupEventListeners();

            // Mostrar animación de carga inicial
            showLoadingAnimation();
        });

        function showLoadingAnimation() {
            // Simular carga de contenido
            setTimeout(function () {
                $('body').addClass('loaded');
            }, 1000);
        }

        function checkLoginStatus() {
            // Verificar si hay un usuario logueado en localStorage
            const user = localStorage.getItem('currentUser');
            if (user) {
                const userData = JSON.parse(user);
                $('#usernameDisplay').text(userData.name);
                // Mostrar botón de logout y ocultar login
                $('#loginBtn').hide();
                $('#userDropdown').show();
            } else {
                // Mostrar botón de login y ocultar logout
                $('#loginBtn').show();
                $('#userDropdown').hide();
                // Mostrar modal de login automáticamente (opcional)
                // $('#loginModal').modal('show');
            }
        }

        function animateCounters() {
            // Animación para los contadores de estadísticas
            const counters = [
                { element: '#studentsCount', target: 12500, duration: 2000 },
                { element: '#tasksCount', target: 850000, duration: 2500 },
                { element: '#hoursSaved', target: 250000, duration: 3000 },
                { element: '#universitiesCount', target: 150, duration: 1500 }
            ];

            counters.forEach(counter => {
                const { element, target, duration } = counter;
                const increment = target / (duration / 16); // 60fps
                let current = 0;

                const updateCounter = () => {
                    current += increment;
                    if (current < target) {
                        $(element).text(Math.floor(current).toLocaleString());
                        requestAnimationFrame(updateCounter);
                    } else {
                        $(element).text(target.toLocaleString());
                    }
                };

                // Iniciar animación cuando el elemento es visible
                const observer = new IntersectionObserver((entries) => {
                    if (entries[0].isIntersecting) {
                        updateCounter();
                        observer.unobserve($(element)[0]);
                    }
                });

                observer.observe($(element)[0]);
            });
        }

        function setupEventListeners() {
            // Modo oscuro
            $('#darkModeToggle').click(function (e) {
                e.preventDefault();
                toggleDarkMode();
            });

            // Configuración del switch en el modal
            $('#darkModeSwitch').change(function () {
                if (this.checked) {
                    enableDarkMode();
                } else {
                    disableDarkMode();
                }
            });

            // Notificaciones
            $('#notificationBtn').click(function () {
                $('#notificationsModal').modal('show');
            });

            $('#markAllAsRead').click(function () {
                $('#notificationBadge').text('0');
                toastr.success('Todas las notificaciones marcadas como leídas');
                $('#notificationsModal').modal('hide');
            });

            // Guardar configuración
            $('#saveSettings').click(function () {
                const username = $('#nombreUsuario').val();
                $('#usernameDisplay').text(username);

                // Actualizar datos en localStorage
                const user = localStorage.getItem('currentUser');
                if (user) {
                    const userData = JSON.parse(user);
                    userData.name = username;
                    localStorage.setItem('currentUser', JSON.stringify(userData));
                }

                toastr.success('Configuración guardada correctamente');
                $('#settingsModal').modal('hide');
            });

            // Login
            $('#loginForm').submit(function (e) {
                e.preventDefault();
                const email = $('#loginEmail').val();
                const password = $('#loginPassword').val();

                // Validación simple (en un caso real, esto sería una llamada a un backend)
                if (email && password) {
                    // Simular usuario
                    const userData = {
                        name: email.split('@')[0],
                        email: email
                    };

                    localStorage.setItem('currentUser', JSON.stringify(userData));
                    $('#loginModal').modal('hide');
                    checkLoginStatus();
                    toastr.success('Bienvenido de nuevo a Eduplan');

                    // Agregar notificación de bienvenida
                    $('#notificationBadge').text('1');
                } else {
                    toastr.error('Por favor ingresa correo y contraseña válidos');
                }
            });

            // Registro
            $('#registerForm').submit(function (e) {
                e.preventDefault();
                const name = $('#registerName').val();
                const email = $('#registerEmail').val();
                const password = $('#registerPassword').val();
                const confirmPassword = $('#registerConfirmPassword').val();

                if (password !== confirmPassword) {
                    toastr.error('Las contraseñas no coinciden');
                    return;
                }

                if (password.length < 8) {
                    toastr.error('La contraseña debe tener al menos 8 caracteres');
                    return;
                }

                // Simular registro exitoso
                const userData = {
                    name: name,
                    email: email
                };

                localStorage.setItem('currentUser', JSON.stringify(userData));
                $('#registerModal').modal('hide');
                checkLoginStatus();
                toastr.success('¡Bienvenido a Eduplan! Tu cuenta ha sido creada.');

                // Agregar notificación de bienvenida
                $('#notificationBadge').text('1');
            });

            // Cerrar sesión
            $('#logoutBtn').click(function (e) {
                e.preventDefault();
                localStorage.removeItem('currentUser');
                checkLoginStatus();
                toastr.info('Has cerrado sesión correctamente');
                window.location.href = 'index.html';
            });

            // Alternar entre login y registro
            $('#showRegister').click(function (e) {
                e.preventDefault();
                $('#loginModal').modal('hide');
                $('#registerModal').modal('show');
            });

            $('#showLogin').click(function (e) {
                e.preventDefault();
                $('#registerModal').modal('hide');
                $('#loginModal').modal('show');
            });

            // Botón de registro en CTA
            $('#registerNowBtn').click(function () {
                $('#registerModal').modal('show');
            });

            // Botón de contacto
            $('#contactBtn').click(function () {
                toastr.info('Por favor envía un email a soporte@eduplan.com');
            });
        }

        function toggleDarkMode() {
            if ($('body').hasClass('dark-mode')) {
                disableDarkMode();
            } else {
                enableDarkMode();
            }
        }

        function enableDarkMode() {
            $('body').addClass('dark-mode');
            localStorage.setItem('darkMode', 'enabled');
            $('#darkModeText').text('Modo Claro');
            $('#darkModeSwitch').prop('checked', true);
        }

        function disableDarkMode() {
            $('body').removeClass('dark-mode');
            localStorage.setItem('darkMode', 'disabled');
            $('#darkModeText').text('Modo Oscuro');
            $('#darkModeSwitch').prop('checked', false);
        }

        // Configuración de toastr
        toastr.options = {
            "closeButton": true,
            "progressBar": true,
            "positionClass": "toast-bottom-right",
            "timeOut": "5000"
        };
    </script>
</body>

</html>